import{createFilter as e}from"rollup-pluginutils";import r from"magic-string";const t=(t,n={})=>{const o=e(n.include,n.exclude),i=!1!==n.sourceMap;return{name:"insert",transform(e,n){if(!o(n))return;let p=new r(e);const a=t(p,e,n);if("string"==typeof a)p.overwrite(0,e.length,a);else if(a instanceof r)p=a;else if(null!=a){let e;try{e=JSON.stringify(a)}catch(r){e=String(a)}throw new TypeError(`The output content should be an instance of string or MagicString, but received: ${e}`)}return{code:p.toString(),map:i?p.generateMap():void 0}}}},n=(e,r)=>t((r=>r.append(e)),r),o=(e,r)=>t((r=>r.prepend(e)),r),i=(e,r,n)=>t((t=>t.prepend(e).append(r)),n);var p={transform:t,append:n,prepend:o,wrap:i};export default p;export{n as append,o as prepend,t as transform,i as wrap};
