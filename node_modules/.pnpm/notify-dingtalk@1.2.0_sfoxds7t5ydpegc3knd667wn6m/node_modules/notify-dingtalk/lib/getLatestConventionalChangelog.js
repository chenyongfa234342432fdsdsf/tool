"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.getLatestConventionalChangelog = getLatestConventionalChangelog;

var _fs = _interopRequireDefault(require("fs"));

var _path = require("path");

function getLatestConventionalChangelog(conventionalChangelogFile = (0, _path.join)(process.cwd(), './CHANGELOG.md')) {
  var _content$match$, _content$match;

  const content = _fs.default.readFileSync((0, _path.resolve)(process.cwd(), conventionalChangelogFile), 'utf8');

  const latestChangelog = (_content$match$ = (_content$match = content.match(/(?:^|\n)(#+\s+\[?\d.+?)(?:\n#+\s+\[?\d|$)/s)) == null ? void 0 : _content$match[1]) != null ? _content$match$ : '';
  return latestChangelog.trim();
}